{% extends "layout/citizen-authenticated.njk" %}

{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{%- from "moj/components/alert/macro.njk" import mojAlert -%}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}

{% set mainClasses = "app-container govuk-body" %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% if error %}
        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
          <h2 class="govuk-error-summary__title" id="error-summary-title">There is a problem</h2>
          <div class="govuk-error-summary__body">
            {{ error }}
          </div>
        </div>
      {% endif %}

      <h1 class="govuk-heading-l govuk-!-margin-bottom-2" title="{{ selectedUrn }}">Court information</h1>

      <p class="govuk-body">Case unique reference number (URN):
        <strong>{{ selectedUrn }}</strong>
      </p>
      {{ govukInsetText({
        html: '<strong>If you’re going to the court</strong><br>
        The exact court location might not be confirmed until the day of the trial.
        Your police witness care officer will tell you by phone call or text.
        Be aware the number they call from might not show on your phone.'
      }) }}

    {% if hearingData %}

      <div class="govuk-!-margin-bottom-6">
        {{ govukSummaryList({
          rows: [
            {
              key: { text: "Court name" },
              value: {
                html: hearingData.location.courtHouseName ~ "<br><br><span>This is the court as it has been listed. The court location will be confirmed by a Witness Care Officer up to 24 hours before the hearing.</span>"
              }
            },
            {
              key: { text: "Court address" },
              value: {
                html: hearingData.location.addressLines | join(', ') ~
                      ", " ~ hearingData.location.postcode ~ ", " ~ hearingData.location.country
              }
            },
            {
              key: { text: "Court information" },
              value: {
                html: '<a href="' + courtUrl + '" target="_blank">Information including directions, parking, and access (opens in new tab)</a>'
              }
            },
            {
              key: { text: "Contacts" },
              value: {
                html: 'You can phone or text your police witness care officer.<br><br>You can also contact the police officer in charge of the investigation.'
              }
            }
          ]
        }) }}
      </div>

      <p class="govuk-body">
        <a href="https://www.find-court-tribunal.service.gov.uk" target="_blank">Find information about other courts</a>
      </p>

      <h2 class="govuk-heading-m">Prepare for going to court to give evidence</h2>
      <p class="govuk-body">If you're going to court to give evidence, find out:</p>
      <ul class="govuk-list govuk-list--bullet">
        <li><a href="https://www.gov.uk/going-to-court-victim-witness" class="govuk-link" target="_blank">how to prepare (opens in new tab)</a></li>
        <li><a href="https://www.gov.uk/guidance/what-to-expect-coming-to-a-court-or-tribunal" class="govuk-link" target="_blank">what to expect, including what to bring and what to wear (opens in new tab)</a></li>
      </ul>

      <h2 class="govuk-heading-m">Get free support through the court process</h2>
      <p class="govuk-body">You can get free support from the Witness Service, provided by Citizens Advice volunteers. They can help you prepare if you need to go to court and support you throughout the day.</p>
      <p class="govuk-body">Find out more about the service or refer yourself straight away - <a href="https://www.citizensadvice.org.uk/about-us/browse/the-citizens-advice-witness-service" class="govuk-link" target="_blank">contact the Witness Service through the Citizen’s Advice website (opens in new tab)</a>.</p>

    {% else %}
      <p>No court information for this case.</p>
    {% endif %}

    </div>
  </div>

{% endblock %}
