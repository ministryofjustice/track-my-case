{% extends "layout/citizen-authenticated.njk" %}

{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}
{% from "components/support-box/macro.njk" import supportBox %}
{%- from "moj/components/alert/macro.njk" import mojAlert -%}
{% from "govuk/components/button/macro.njk" import govukButton %}

{% set pageTitle = applicationName + " - Court information" %}
{% set mainClasses = "app-container govuk-body" %}
{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      {% if error %}
        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="govuk-error-summary">
          <h2 class="govuk-error-summary__title" id="error-summary-title">There is a problem</h2>
          <div class="govuk-error-summary__body">
            {{ error }}
          </div>
        </div>
      {% endif %}

      <h1 class="govuk-heading-l govuk-!-margin-bottom-5">Court information</h1>

      {{ govukWarningText({
        html: "<span>This is information from the court system and can change. "+
        "You will receive an accurate court location for your hearing 24 hours before from a Witness Care Officer. "+
        "This will only happen if you are required to attend court.</span>"+
        "<br/><br/>"+"<span>If you require additional information contact your Witness Care Officer during normal "+
        "business hours, by email or telephone, or contact your local forceâ€™s Witness Care Unit if you are unable "+
        "to speak to your Witness Care Officer. Alternatively, speak to the officer in charge of the investigation.</span>",
        iconFallbackText: "Warning"
      }) }}

    {% if hearingData %}

      <div class="govuk-!-margin-bottom-6">
        {{ govukSummaryList({
          rows: [
            {
              key: { text: "Court name" },
              value: {
                html: hearingData.location.courtHouseName ~ "<br><br><span>This is the court as it has been listed. The court location will be confirmed by a Witness Care Officer up to 24 hours before the hearing.</span>"
              }
            },
            {
              key: { text: "Court address" },
              value: {
                html: hearingData.location.courtRoomName ~ "<br>" ~
                      hearingData.location.addressLines | join(', ') ~
                      ", " ~ hearingData.location.postcode ~ ", " ~ hearingData.location.country
              }
            },
            {
              key: { text: "Additional information" },
              value: {
                html: '<a href="https://www.find-court-tribunal.service.gov.uk/courts/central-london-county-court">See information about facilities, opening times, and enquiries for this court</a>'
              }
            }
          ]
        }) }}
      </div>
      <div>
        <a href="https://www.find-court-tribunal.service.gov.uk">Find information about other courts</a>
      </div>

    {% else %}
      <p>No court information for this case.</p>
    {% endif %}

    {{ supportBox() }}

    </div>
  </div>
  <div class="govuk-grid-row govuk-!-margin-top-8">
    <div><a href="/case/court-info-health" target="_blank">MOJ API SERVICE health check</a> </div>
    <pre><code>{{ caseDetails | dump(2) }}</code></pre>
  </div>
{% endblock %}
